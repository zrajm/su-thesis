%% -*- mode: latex; ispell-dictionary: "svenska" -*-

\section{Att använda \LaTeX}
\label{latex}

Detta är en uppsatsmall för \LaTeX\ för Stockholms universitet. Den kan
användas med \XeLaTeX\ på din egen dator eller med Overleaf
(\texttt{\href{https://overleaf.com/edu/su}{https://\linebreak[0]{}overleaf\linebreak[0]{}.com/\linebreak[0]{}edu/\linebreak[0]{}su}})
-- som student på Stockholms universitet har du automatiskt tillgång Overleaf.

Denna mall måste kompileras med \XeLaTeX, vilket du slå på manuellt i Overleaf.

\subsection{Overleaf}


\subsection{På egen dator}

\subsubsection{Installation av program}

Denna uppsatsmall kräver kommandot \texttt{xelatex} (det traditionella
kommandot \texttt{pdflatex} fungerar inte. \hl{FIXME: fungerar inte
pdflatex?}). Denna guide utgår också ifrån bekvämlighetsverktyget
\texttt{latexmk}.

\noindent Om du kör Linux (med Debian eller Ubuntu) kör du följande kommandon
(som användaren 'root') för att installera:

\begin{verbatim}
apt install texlive-xetex latexmk
\end{verbatim}

\noindent Dokumentationen till kommandot \texttt{latexmk} finns här:
\texttt{\href{https://mg.readthedocs.io/latexmk.html}{https://\linebreak[0]{}mg\linebreak[0]{}.readthedocs\linebreak[0]{}.io/\linebreak[0]{}latexmk\linebreak[0]{}.html}}


\subsubsection{Kompilering}

Det enklaste sättet att kompilera din uppsats är:

\begin{verbatim}
latexmk su-thesis.tex
\end{verbatim}

\noindent\texttt{latexmk} har inställningar i en fil som heter
\texttt{latexmkrc}. Om du installerar denna uppsatsmall i en underkatalog så
vill du förmodligen kopiera \texttt{latexmkrc} till katalogen där du har din
uppsats också.

Om du inte använder \texttt{latexmk} utan insisterar på att kompilera
själv så motsvarar detta följande kommandon (Ja! -- \texttt{xelatex} behöver
vanligtvis köras tre gånger för att vara säker på att både innehållsförteckning
och referenser stämmer överens med texten).

\begin{verbatim}
export TEXINPUTS=".//:$TEXINPUTS"
xelatex su-thesis.tex
bibtex su-thesis.bib
xelatex su-thesis.tex
xelatex su-thesis.tex
\end{verbatim}

\noindent Då och då råkar man skriva något galet i \LaTeX-koden, och kompileringen
stannar mitt i. Då får man upp en prompt, med ett frågetecken i början på en ny
rad. -- När detta händer skriv 'x' (och tryck enter) för att avsluta. Rätta
felet i din \texttt{.tex}-fil och kompilera om.


\subsection{Att skriva referenser}

För att skriva en referens i din text använder antingen kommandot
\texttt{\textbackslash{}citep\{\}} (för en parentetisk referens) eller
kommandot \texttt{\textbackslash{}citet\{\}} (för en referens utan parentes
runt författarnamnet).

\begin{table}[ht]
  \centering
  \renewcommand{\arraystretch}{1.25}%
  \begin{tabular}[t]{lcc}
    \toprule
    {\sffamily\textbf{Kommando}} &
    {\sffamily\textbf{Beskrivning}} &
    {\sffamily\textbf{Exempel}} \\
    \midrule
    \texttt{\textbackslash{}citep\{källa\}} &
    med parentes &
    \citep{bergman+wallin-2001} \\
    \texttt{\textbackslash{}citet\{källa\}} &
    utan parentes &
    \citet{bergman+wallin-2001} \\
    \midrule
    \texttt{\textbackslash{}citep\{källa1,källa2\}} &
    flera källor &
    \citep{bergman+wallin-2001,bergman-1977} \\
    \texttt{\textbackslash{}citet\{källa1,källa2\}} &
    flera källor &
    \citet{bergman+wallin-2001,bergman-1977} \\
    \midrule
    \texttt{\textbackslash{}citep[1--2]\{källa1\}} &
    sidnummer &
    \citep[1--2]{bergman-1977} \\
    \texttt{\textbackslash{}citep[jmf][]\{källa1\}} &
    text före &
    \citep[jmf][]{bergman-1977} \\
    \texttt{\textbackslash{}citep[jmf][1--2]\{källa1\}} &
    text + sidref. &
    \citep[jmf][1--2]{bergman-1977} \\
    \midrule
    \texttt{\textbackslash{}citealp\{källa\}} &
    som \texttt{\textbackslash{}citep\{källa\}} &
    \citealp{bergman+wallin-2001} \\
    \texttt{\textbackslash{}citealt\{källa\}} &
    som \texttt{\textbackslash{}citet\{källa\}} &
    \citealt{bergman+wallin-2001} \\
    \bottomrule
  \end{tabular}
  \caption{\LaTeX-kommandon för att skriva referenser (från \texttt{natbib}-paketet)}
\end{table}

\texttt{\textbackslash{}citealp} och \texttt{\textbackslash{}citealt}
kommandona fungerar som \texttt{\textbackslash{}citep} och
\texttt{\textbackslash{}citet} men utelämnar de omgivande parenteserna. Ibland
kan detta vara nödvändigt, som tex om man vill ange två källor med sidreferens
inom parentes. I detta fall kan man skriva
\texttt{(\textbackslash{}citealp[55]\{källa1\} och
  \textbackslash{}citealp[25]\{källa2\})}.

Det finns ytterligare kommandon som kan användas för att skapa referenser, hur
de används finns beskrivet i
\underline{\href{http://ftp.acc.umu.se/mirror/CTAN/macros/latex/contrib/natbib/natbib.pdf}{\texttt{natbib}-paketets referensmanual}}.

%% [eof]
